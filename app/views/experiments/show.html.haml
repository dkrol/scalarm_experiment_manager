%section.panel.radius
  %h3.subheader= t('simulations.conduct_experiment.overview_header')

  %p= t('simulations.conduct_experiment.overview_name', name: @experiment.simulation.name)
  %p= t('simulations.conduct_experiment.overview_description', description: @experiment.simulation.description)

%section.panel.radius#monitoring_section
  %article#experiment_stats
    %h4.subheader= t('.stats_header')

  %article#experiment_progress_bar
    %h4.subheader= t('.progress_bar_header')

  %article
    %h4.subheader= t('.actions_header')

    %nav.top-bar
      %section.top-bar-section
        %ul
          - if @experiment.is_running
            %li= button_to 'Stop experiment', stop_experiment_path(@experiment.id), :onClick => "return confirm('Are you sure?')", class: 'button'
            %li= button_to 'Extend', '#', id: 'extensionDialogOpenButton', class: 'button'
            %li= button_to_function 'Boost', "booster.openDialog('#{get_booster_dialog_experiment_path(@experiment.id)}');", class: 'button'
            %li= button_to_function 'Set scheduling', "$('#scheduling_policy_dialog').foundation('reveal', 'open'); $('#scheduling-ajax-response').html('');", class: 'button'
          - else
            %li= button_to 'Destroy', experiment_path(@experiment.id), method: :delete, onClick: "$('#loading-img').show(); return confirm('Are you sure?')", class: 'button'
          %li
            = button_to 'Download results', "https://#{@storage_manager_url}/experiment/#{@experiment.id}/from/1/to/#{@experiment.experiment_size}", id: 'download-dialog-buttton', class: 'button', method: :get

          %li= button_to 'Get configurations', file_with_configurations_experiment_path(@experiment.id), method: :get, class: 'button'
          %li= button_to_function 'Progress information', "$('#progress_information').slideToggle(); $('html, body').animate({ scrollTop: $('#progress_information').offset().top }, 1000);", class: 'button'
          %li= image_tag 'loading.gif', :id => 'loading-img', :style => 'display: none;'

- content_for :javascript do
  :javascript
    $(function() {
      new window.ExperimentSpeedometer('#{@experiment.id}').show();

      var monitor = new window.ExperimentMonitor('#{@experiment.id}');
      monitor.generate_html('experiment_stats')
    });